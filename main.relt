
type model MyType = {
  x: string,
}

delta $"TABLE_1_LOC"
model Table1 = {
  id: string,
  name: string,
  col: MyType[] json,
}

postgres $"TABLE_2_LOC"
model Table2 = {
  my_id: string,
  tid: string,
  value: int?,
  ts: date "yyyy/mm/dd",
}

model Table3 = 
  | Table2 
  | where value > 0 ?? true
  | sort tid asc
  | with {
    x = 5,
  }

index $"TABLE_4_OUTPUT" on "my_id"
model Table4 = Table1 join(id == tid) Table3

